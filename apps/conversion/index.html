<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Length Converter</title>

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:slnt,wght@-10..0,100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">

<style>
  :root{
    color-scheme: light dark;
    --bg: light-dark(#fafafa,#1b1b1d);
    --fg: light-dark(#0d0d10,#f2f2f7);
    --muted: light-dark(#6b7280,#a1a1aa);
    --card: light-dark(#ffffff,#1b1b1d);
    --border: light-dark(#e5e7eb,#37373c);
    --ring: #ff0062;
    --radius: 8px;
    --shadow: 0 1px 2px rgb(0 0 0 / 0.06), 0 8px 32px rgb(0 0 0 / 0.10);
    --space: clamp(.75rem, 1vw + .25rem, 1.25rem);
    --fs: clamp(15px, .6vw + 12px, 18px);
    --fs-lg: clamp(20px, 1.2vw + 14px, 28px);
    --sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font: 400 var(--fs)/1.5 var(--sans);
    font-feature-settings: "kern","liga";
    font-kerning: normal;
    font-variant-numeric: tabular-nums slashed-zero;
    background: var(--bg);
    color: var(--fg);
    display:grid;
    place-items:center;
    padding: 6vh 1rem;
  }
  .wrap{ width:min(720px, 100%); }
  .card{
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: calc(var(--space) * 1.25);
  }
  h1{
    margin:0 0 var(--space);
    font-weight:650;
    letter-spacing:.2px;
    font-size: var(--fs-lg);
    font-family: "Geist","Inter", var(--sans);
  }
  p.hint{margin:0 0 var(--space); color:var(--muted)}
  .grid{
    display:grid;
    gap: .75rem;
    /* Adjusted minmax for better layout with 3 items */
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
  label{ display:grid; gap:.35rem; font-size: .95em; font-weight: 500; color: var(--muted); }
  input{
    width:100%;
    appearance:none;
    background: transparent;
    color: var(--fg);
    border: 1px solid var(--border);
    border-radius: 5px;
    padding: .7rem .85rem;
    font: 500 1rem/1 var(--sans);
    transition: box-shadow .15s ease, border-color .15s ease, transform .04s ease;
  }
  input::placeholder{color:var(--muted)}
  input:focus{
    outline: none;
    border-color: color-mix(in oklab, var(--ring) 60%, transparent);
    box-shadow: 0 0 0 4px color-mix(in oklab, var(--ring) 14%, transparent);
  }
  input:active{transform: scale(.998)}
  @media (prefers-reduced-motion: reduce){
    *{animation:none!important;transition:none!important}
  }
</style>

<div class="wrap">
  <div class="card">
    <h1>Length Converter</h1>
    <p class="hint">Convert between metric and imperial units.</p>
    
    <div class="grid">
      <label>Centimeters<input id="cm" type="number" step="any" placeholder="0"></label>
      <label>Inches<input id="in" type="number" step="any" placeholder="0"></label>
      <label>Feet<input id="ft" type="number" step="any" placeholder="0"></label>
    </div>
  </div>
</div>

<script>
  // Conversion factors (base: meters)
  // cm = .01m, in = .0254m, ft = .3048m
  const U = { cm: 0.01, in: 0.0254, ft: 0.3048 };
  
  // Select only the keys present in U
  const I = Object.fromEntries(
    Object.keys(U).map(k => [k, document.getElementById(k)])
  );

  const fmt = x => (Math.abs(x)>=1e6 || (x && Math.abs(x)<1e-4))
    ? x.toExponential(6)
    : (x.toFixed(6)).replace(/\.?0+$/,'');

  for (const [id, el] of Object.entries(I)) {
    el.addEventListener('input', e => {
      const v = parseFloat(e.target.value);
      if (isNaN(v)){ 
        for(const k in I) if(k!==id) I[k].value=''; 
        return; 
      }
      const m = v * U[id]; // convert to base (meters)
      for (const k in I) if (k!==id) I[k].value = fmt(m / U[k]);
    });
  }
</script>
