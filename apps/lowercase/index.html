<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lowercase Converter</title>

  <!-- CRT theme fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">

  <!-- Lucide icons (for theme toggle icon, optional) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Retro CRT theme stylesheet you generated earlier -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- CRT overlays -->
  <div class="scanlines"></div>
  <div class="flicker"></div>

  <div class="outer-container">
    <!-- Header that uses the theme's layout classes -->
    <header class="app-header">
      <div class="app-header-left">
        <div class="app-header-title glow-text">
          LOWERCASE CONVERTER
        </div>
        <div class="app-header-subtitle terminal-text">
          USER / ACCESS LOWERCASE
        </div>
      </div>

      <div class="app-header-right">
        <button id="themeToggle" type="button" class="retro-btn theme-toggle-btn">
          <i data-lucide="monitor"></i>
          <span>Theme</span>
        </button>
        <span id="clock" class="status-clock glow-text">00:00:00</span>
        <span id="uptime" class="status-uptime">UPTIME 00:00:00</span>
      </div>
    </header>

    <!-- Main grid using the bento layout from the theme -->
    <main id="grid-container">
      <!-- Single terminal card for the tool -->
      <section class="terminal-card">
        <div class="terminal-card-header">
          <div class="terminal-icon-box">
            <i data-lucide="type"></i>
          </div>
          <span class="status-badge">[ ACTIVE ]</span>
        </div>

        <div class="terminal-card-body">
          <div class="terminal-card-title glow-text">
            <span class="terminal-card-title-prefix">&gt;</span>
            <span>Lowercase</span>
          </div>
          <p class="terminal-card-description">
            Instant conversion of any text to lowercase. Paste or type your text in the input field and the output updates live.
          </p>

          <!-- Form content inside the card -->
          <div style="margin-top:0.5rem; display:flex; flex-direction:column; gap:0.75rem;">
            <div>
              <label for="input" class="badge-muted">INPUT</label>
              <textarea
                id="input"
                placeholder="Paste or type text here..."
                class="terminal-text"
                style="
                  width:100%;
                  min-height:120px;
                  background: rgba(5,5,8,0.8);
                  color: inherit;
                  border-radius: 6px;
                  border: 1px solid rgba(var(--rgb-dim),0.8);
                  padding: 0.6rem 0.7rem;
                  font-family: var(--font-desc);
                  font-size: 0.9rem;
                  resize: vertical;
                "
              ></textarea>
            </div>

            <div>
              <label for="output" class="badge-muted">OUTPUT</label>
              <textarea
                id="output"
                readonly
                placeholder="Lowercase text will appear here..."
                class="terminal-text"
                style="
                  width:100%;
                  min-height:120px;
                  background: rgba(5,5,8,0.8);
                  color: inherit;
                  border-radius: 6px;
                  border: 1px solid rgba(var(--rgb-dim),0.8);
                  padding: 0.6rem 0.7rem;
                  font-family: var(--font-desc);
                  font-size: 0.9rem;
                  resize: vertical;
                "
              ></textarea>
            </div>

            <div style="display:flex; justify-content:flex-end;">
              <button id="copyBtn" type="button" class="retro-btn">
                Copy to Clipboard
              </button>
            </div>
          </div>
        </div>

        <!-- Large background number decoration -->
        <div class="terminal-card-bg-number">01</div>
      </section>
    </main>

    <!-- Footer using theme classes -->
    <footer class="app-footer">
      <span class="app-footer-underscore">END OF LINE</span>
    </footer>
  </div>

  <script>
    // Lowercase converter logic
    (function () {
      const input = document.getElementById('input');
      const output = document.getElementById('output');
      const copyBtn = document.getElementById('copyBtn');

      function render() {
        output.value = (input.value || '').toLowerCase();
      }

      input.addEventListener('input', render);
      input.addEventListener('paste', () => { requestAnimationFrame(render); });

      copyBtn.addEventListener('click', async () => {
        if (!output.value) return;

        try {
          await navigator.clipboard.writeText(output.value);
          const originalText = copyBtn.textContent;
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('success');

          setTimeout(() => {
            copyBtn.textContent = originalText;
            copyBtn.classList.remove('success');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy:', err);
          alert('Failed to copy to clipboard.');
        }
      });

      render();
    })();

    // Theme toggle (adds/removes .theme-green on <body>)
    (function () {
      const btn = document.getElementById('themeToggle');
      if (!btn) return;
      btn.addEventListener('click', () => {
        document.body.classList.toggle('theme-green');
      });
    })();

    // Clock and uptime display to fit the theme
    (function () {
      const start = Date.now();
      const clockEl = document.getElementById('clock');
      const uptimeEl = document.getElementById('uptime');

      function pad(n) {
        return String(n).padStart(2, '0');
      }

      function tick() {
        const now = new Date();
        const h = pad(now.getHours());
        const m = pad(now.getMinutes());
        const s = pad(now.getSeconds());
        if (clockEl) clockEl.textContent = `${h}:${m}:${s}`;

        const diff = Math.floor((Date.now() - start) / 1000);
        const uh = pad(Math.floor(diff / 3600));
        const um = pad(Math.floor((diff % 3600) / 60));
        const us = pad(diff % 60);
        if (uptimeEl) uptimeEl.textContent = `UPTIME ${uh}:${um}:${us}`;
      }

      tick();
      setInterval(tick, 1000);
    })();

    // Initialize Lucide icons once DOM is ready
    document.addEventListener('DOMContentLoaded', function () {
      if (window.lucide && typeof window.lucide.createIcons === 'function') {
        window.lucide.createIcons();
      }
    });
  </script>
</body>
</html>
